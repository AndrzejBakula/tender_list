{% extends "base.html" %}
{% load static %}

{% block title %} Lista Projektów {% endblock %}

{% block content %}

<div class="d-flex flex-column align-items-center" style="height: 100%; width: 100%;">
    <hr>

    <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Data złożenia</th>
            <th scope="col">Nazwa projektu</th>
            <th scope="col">Inwestor</th>
            <th scope="col">Poziom adm.</th>
            <th scope="col">Projektant</th>
            <th scope="col">Wadium</th>
            <th scope="col">Priorytet</th>
            <th scope="col">Szacunek</th>
            <th scope="col">Odpowiedzialny</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
            {% for i in projects %}
          <tr>
            <th scope="col">{{ i.id }}</th>
            <td scope="col">{{ i.tender_date }}</td>
            <td scope="col">              <a href="{% url 'project-details' i.id %}">{{ i.project_name }}</a></td>
            <td scope="col">
              <a href="{% url 'investor-details' i.investor.id %}">{{ i.investor.investor_name }}</a></td>
            <td scope="col">{{ i.investor.investor_administration_level }}</td>
            <td scope="col">{% if i.designer %}
              <a href="{% url 'designer-details' i.designer.id %}">{{ i.designer.designer_name }}
              </a>{% else %} - {% endif %}</td>
            <td scope="col">{{ i.deposit }}</td>
            <td scope="col">{{ i.priority }}</td>
            <td scope="col">{{ i.estimated_value }}</td>
            <td scope="col">{% for j in i.person.all %} {{ j.username }} <br> {% endfor %}</td>
            <td scope="col">{{ i.status }}</td>
          </tr>
            {% endfor %}
        </tbody>
      </table>


</div>

{% endblock %}